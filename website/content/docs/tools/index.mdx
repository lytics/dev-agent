# MCP Tools Overview

dev-agent provides nine tools through the Model Context Protocol (MCP). These tools give AI assistants deep understanding of your codebase.

## Available Tools

| Tool | Purpose |
|------|---------|
| [`dev_search`](/docs/tools/dev-search) | Semantic code search with snippets |
| [`dev_refs`](/docs/tools/dev-refs) | Query code relationships (callers/callees) |
| [`dev_map`](/docs/tools/dev-map) | Codebase structure overview with change frequency |
| [`dev_history`](/docs/tools/dev-history) | Semantic search over git commits âœ¨ v0.4 |
| [`dev_plan`](/docs/tools/dev-plan) | Assemble context for GitHub issues |
| [`dev_explore`](/docs/tools/dev-explore) | Explore code patterns and relationships |
| [`dev_gh`](/docs/tools/dev-gh) | Search GitHub issues and PRs |
| [`dev_status`](/docs/tools/dev-status) | Check repository indexing status |
| [`dev_health`](/docs/tools/dev-health) | Monitor MCP server health |

## New in v0.4.0

- **`dev_history`** â€” Semantic search over git commit history
- **`dev_map`** â€” Change frequency indicators (ğŸ”¥ hot, âœï¸ active, ğŸ“ recent)
- **`dev_plan`** â€” Related commits included in context assembly

## v0.3.0

- **`dev_refs`** â€” Query what calls what and what is called by what
- **`dev_map`** â€” Get codebase overview with hot paths and smart depth
- **`dev_plan`** â€” Refactored to assemble context (no more heuristic task breakdown)

## How Tools Are Exposed

Tools are exposed via the Model Context Protocol (MCP), a standard for AI tool integration:

```
AI Assistant (Cursor/Claude)
        â”‚
        â”‚ MCP Protocol (stdio)
        â–¼
   dev-agent MCP Server
        â”‚
        â”œâ”€â”€ SearchAdapter      â†’ dev_search
        â”œâ”€â”€ RefsAdapter        â†’ dev_refs
        â”œâ”€â”€ MapAdapter         â†’ dev_map
        â”œâ”€â”€ HistoryAdapter     â†’ dev_history  âœ¨ v0.4
        â”œâ”€â”€ PlanAdapter        â†’ dev_plan
        â”œâ”€â”€ ExploreAdapter     â†’ dev_explore
        â”œâ”€â”€ GitHubAdapter      â†’ dev_gh
        â”œâ”€â”€ StatusAdapter      â†’ dev_status
        â””â”€â”€ HealthAdapter      â†’ dev_health
```

## Tool Response Format

All tools return structured responses with metadata:

```json
{
  "success": true,
  "data": {
    "query": "authentication",
    "content": "1. [89%] class: AuthMiddleware..."
  },
  "metadata": {
    "tokens": 245,
    "duration_ms": 123,
    "results_total": 15,
    "results_returned": 10
  }
}
```

The `metadata` field helps AI assistants understand:
- **Token cost** of the response
- **Performance** metrics
- **Result completeness** (truncated or full)

## Output Formats

Most tools support two output formats:

- **`compact`** (default) â€” Token-efficient, markdown output
- **`verbose`** â€” Full JSON with all details

## Next Steps

- [dev_search â†’](/docs/tools/dev-search) â€” Semantic code search
- [dev_history â†’](/docs/tools/dev-history) â€” Git commit search
- [dev_refs â†’](/docs/tools/dev-refs) â€” Relationship queries
- [dev_map â†’](/docs/tools/dev-map) â€” Codebase overview
