# MCP Tools Overview

dev-agent provides eight tools through the Model Context Protocol (MCP). These tools give AI assistants deep understanding of your codebase.

## Available Tools

| Tool | Purpose |
|------|---------|
| [`dev_search`](/docs/tools/dev-search) | Semantic code search with snippets |
| [`dev_refs`](/docs/tools/dev-refs) | Query code relationships (callers/callees) |
| [`dev_map`](/docs/tools/dev-map) | Codebase structure overview |
| [`dev_plan`](/docs/tools/dev-plan) | Assemble context for GitHub issues |
| [`dev_explore`](/docs/tools/dev-explore) | Explore code patterns and relationships |
| [`dev_gh`](/docs/tools/dev-gh) | Search GitHub issues and PRs |
| [`dev_status`](/docs/tools/dev-status) | Check repository indexing status |
| [`dev_health`](/docs/tools/dev-health) | Monitor MCP server health |

## New in v0.3.0

- **`dev_refs`** — Query what calls what and what is called by what
- **`dev_map`** — Get codebase overview with hot paths and smart depth
- **`dev_plan`** — Refactored to assemble context (no more heuristic task breakdown)

## How Tools Are Exposed

Tools are exposed via the Model Context Protocol (MCP), a standard for AI tool integration:

```
AI Assistant (Cursor/Claude)
        │
        │ MCP Protocol (stdio)
        ▼
   dev-agent MCP Server
        │
        ├── SearchAdapter      → dev_search
        ├── RefsAdapter        → dev_refs
        ├── MapAdapter         → dev_map
        ├── PlanAdapter        → dev_plan
        ├── ExploreAdapter     → dev_explore
        ├── GitHubAdapter      → dev_gh
        ├── StatusAdapter      → dev_status
        └── HealthAdapter      → dev_health
```

## Tool Response Format

All tools return structured responses with metadata:

```json
{
  "success": true,
  "data": {
    "query": "authentication",
    "content": "1. [89%] class: AuthMiddleware..."
  },
  "metadata": {
    "tokens": 245,
    "duration_ms": 123,
    "results_total": 15,
    "results_returned": 10
  }
}
```

The `metadata` field helps AI assistants understand:
- **Token cost** of the response
- **Performance** metrics
- **Result completeness** (truncated or full)

## Output Formats

Most tools support two output formats:

- **`compact`** (default) — Token-efficient, markdown output
- **`verbose`** — Full JSON with all details

## Next Steps

- [dev_search →](/docs/tools/dev-search) — Semantic code search
- [dev_refs →](/docs/tools/dev-refs) — Relationship queries
- [dev_map →](/docs/tools/dev-map) — Codebase overview
