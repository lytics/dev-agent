# Updates

What's new in dev-agent. We ship improvements regularly to help AI assistants understand your code better.

---

## v0.5.2 â€” GitHub Indexing for Large Repositories

*December 6, 2024*

**Fixed `ENOBUFS` errors when indexing repositories with many GitHub issues/PRs.** Large active repositories can now be fully indexed without buffer overflow issues.

### What's Fixed

**ðŸ› Buffer Overflow Resolution**

The GitHub indexing phase would fail with `ENOBUFS` (No buffer space available) on repositories with extensive GitHub activity:

```bash
# This would fail before:
dev index
âœ– Failed to index repository
[03:09:07] ERROR Failed to fetch issues: spawnSync /bin/sh ENOBUFS
```

**Solution:**
- Increased buffer capacity from 1MB to 50MB for GitHub API responses
- Reduced default fetch limit from 1000 to 500 items (per type)
- Added `--gh-limit` flag for custom limits

### What's New

**âš™ï¸ Configurable Limits**

```bash
# Default (works for most repos)
dev index

# Large repos (200+ issues/PRs)
dev index --gh-limit 200

# Very active repos (500+ issues/PRs)  
dev index --gh-limit 100
```

**ðŸ’¬ Better Error Messages**

If buffer issues occur, you now get actionable guidance:
```
Failed to fetch issues: Output too large. 
Try using --gh-limit with a lower value (e.g., --gh-limit 100)
```

### Why This Matters

Many production repositories have hundreds or thousands of GitHub issues/PRs. Without this fix, `dev index` would fail completely on these repos, preventing AI tools from understanding project context.

Now it just works â€” and if you hit limits, the CLI tells you exactly how to fix it.

**Tested on:** 6,989 file repository with 1,000 GitHub issues/PRs âœ…

---

## v0.5.1 â€” Incremental Indexing

*December 3, 2025*

**`dev update` now actually works.** Only re-index files that changed â€” no more waiting for full re-scans.

### What's New

**âš¡ Fast Updates**

```bash
dev index .     # First run: full index
dev update      # Fast! Only processes changes
```

**ðŸ” Smart Change Detection**

- Detects modified files via content hash
- Finds new files added since last index
- Cleans up documents for deleted files
- Removes orphaned symbols when code changes

### Why This Matters

Before: Every `dev index .` re-scanned your entire codebase. On a 10k file repo, that's 5+ minutes.

Now: `dev update` detects what changed and only processes those files. Same result, fraction of the time.

---

## v0.5.0 â€” Modern JavaScript Support

*December 2, 2025*

**Better coverage for how developers actually write code today.**

Modern JavaScript and TypeScript codebases look very different from traditional OOP. React hooks, arrow functions, and configuration objects are the primary APIs â€” and dev-agent now understands them.

### What's New

**ðŸŽ¯ Arrow Functions**

```typescript
// Now indexed! AI can find these via semantic search
export const useAuth = () => { ... }
const validateEmail = (email: string) => email.includes('@')
```

**âš›ï¸ React Hooks Detection**

Hooks are automatically detected by the `use*` naming pattern. When you search for "authentication hook", dev-agent knows `useAuth` is a hook â€” not just a function.

**ðŸ“¦ Exported Constants**

Configuration objects, context providers, and factory-created values are now searchable:

```typescript
export const API_CONFIG = { baseUrl: '/api', timeout: 5000 }
export const ThemeContext = createContext({ dark: false })
export const SUPPORTED_LANGUAGES = ['typescript', 'javascript']
```

### Why This Matters

Before v0.5.0, searching for "API configuration" wouldn't find `export const API_CONFIG = {...}`. Now it does. This means:

- **Better search results** for modern React/TypeScript codebases
- **More context** for AI assistants to understand your code
- **Fewer "I couldn't find..." moments** when asking about hooks or configs

---

## v0.4.4 â€” Test File Discovery

*December 1, 2025*

**Search results now show related test files automatically.**

When `dev_search` returns source files, it checks for matching test files (`*.test.ts`, `*.spec.ts`) and includes them in the response:

```
1. [89%] function: authenticate (src/auth.ts:15)
2. [84%] class: AuthMiddleware (src/middleware.ts:5)

---
Related test files:
  â€¢ src/auth.test.ts
  â€¢ src/middleware.test.ts
```

This helps AI assistants find both implementation *and* tests without extra searches â€” useful when fixing bugs or understanding expected behavior.

---

## v0.4.0 â€” Intelligent Git History

*November 27, 2025*

**Semantic search over your commit history.**

Ever tried to find "when did we add rate limiting?" by scrolling through `git log`? Now you can just ask:

### New Tool: `dev_history`

Search commits by meaning, not just keywords:

```
> "Find commits related to authentication changes"

1. [92%] fix(auth): resolve token refresh race condition
   Author: jane@example.com | 3 days ago
   Files: src/auth/refresh.ts, src/auth/token.ts

2. [87%] feat(auth): add OAuth2 provider support  
   Author: john@example.com | 2 weeks ago
   Files: src/auth/oauth.ts, src/auth/providers/
```

### Change Frequency in `dev_map`

See which parts of your codebase are actively changing:

```
packages/
â”œâ”€â”€ ðŸ”¥ core/ (45 components) â€” 12 commits in 30d
â”œâ”€â”€ âœï¸ mcp-server/ (28 components) â€” 3 commits in 30d
â”œâ”€â”€ ðŸ“ cli/ (15 components) â€” 2 commits in 90d
â””â”€â”€ subagents/ (35 components)
```

- ðŸ”¥ **Hot** â€” 10+ commits in last 30 days
- âœï¸ **Active** â€” 3-9 commits in last 30 days  
- ðŸ“ **Recent** â€” Any commits in last 90 days

### Context Assembly Improvements

`dev_plan` now includes related commits when assembling context for GitHub issues. AI assistants can see both *what* the issue asks for and *how* similar changes were made before.

---

## v0.3.0 â€” Code Relationships

*November 26, 2025*

**Understand how your code connects.**

### New Tool: `dev_refs`

Find what calls what â€” and what's called by what:

```
> "What functions call validateUser?"

Callers of validateUser:
1. AuthMiddleware.authenticate (src/middleware.ts:45)
2. LoginController.handleLogin (src/controllers/login.ts:23)
3. SessionManager.validateSession (src/session.ts:67)
```

Essential for impact analysis before refactoring.

### Hot Paths in `dev_map`

See the most-referenced files in your codebase:

```
Hot Paths (most referenced):
  ðŸ”¥ src/utils/logger.ts (47 references)
  ðŸ”¥ src/types/index.ts (34 references)
  ðŸ”¥ src/config.ts (28 references)
```

### Smarter Context Assembly

`dev_plan` was refactored from generating task breakdowns to assembling rich context. Instead of making assumptions about *how* to implement something, it now gives AI assistants the context they need to figure it out themselves.

---

## v0.1.0 â€” Initial Release

*November 26, 2025*

**The foundation: local-first code understanding for AI tools.**

### Core Features

- **Semantic Search** â€” Find code by meaning, not keywords
- **MCP Integration** â€” Works with Cursor, Claude Code, and any MCP client
- **Multi-language** â€” TypeScript, JavaScript, Go, Python, Rust, Markdown
- **100% Local** â€” No cloud, no telemetry, all processing on your machine

### Five Tools at Launch

| Tool | Purpose |
|------|---------|
| `dev_search` | Semantic code search |
| `dev_plan` | Context assembly for issues |
| `dev_explore` | Pattern discovery |
| `dev_gh` | GitHub issue/PR search |
| `dev_status` | Repository health |

### Installation

One command to index, one command to install:

```bash
npm install -g dev-agent
dev index .
dev mcp install --cursor
```

---

## What's Next?

We're working on:

- **More languages** â€” Better Go and Python support via tree-sitter
- **Parallel search** â€” Query multiple repos simultaneously

Have ideas? [Open an issue](https://github.com/lytics/dev-agent/issues) or join the discussion.

