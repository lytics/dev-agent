---
title: dev-agent
---

import { Callout, Steps, Tabs, FileTree } from 'nextra/components'
import { latestVersion } from './latest-version'

# dev-agent

Local semantic code search for Cursor and Claude Code via MCP.

[Get Started](/docs) · [View on GitHub](https://github.com/lytics/dev-agent)

<Callout type="info">
  **New in v{latestVersion.version}** — {latestVersion.summary} [See what's new →](/updates)
</Callout>

<Callout type="default">
  **Built by engineers, for engineers.** An MCP server that gives your AI tools semantic code search and context bundling. Savings scale with task complexity — up to 42% on debugging tasks.
</Callout>

## Why it saves money

dev-agent doesn't just search — it **bundles context** so Claude reads less:

| What dev-agent does | Manual equivalent | Savings |
|---------------------|-------------------|---------|
| Returns code snippets in search | Read entire files | 99% fewer input tokens |
| `dev_plan` bundles issue + code + commits | 5-10 separate tool calls | 29% cost reduction |
| Semantic search finds relevant code | grep chains + manual filtering | 42% cost reduction |

**The harder the task, the bigger the savings.**

## Measured results by task type

| Task Type | Cost Savings | Time Savings | Why |
|-----------|--------------|--------------|-----|
| **Debugging** | **42%** | 37% | Semantic search beats grep for "where is the bug?" |
| **Exploration** | **44%** | 19% | Find code by meaning, not keywords |
| **Implementation** | **29%** | 22% | `dev_plan` bundles context in one call |
| **Simple lookup** | ~0% | ~0% | Both approaches are fast |

<Callout type="warning">
  **Trade-off:** Faster but sometimes less thorough. Baseline Claude provides more diagnostic shell commands. dev-agent excels when you need to explore or understand code.
</Callout>

## Same question, different approach

We asked Claude Code: *"Debug why search returns duplicates"*

<Tabs items={['Without dev-agent', 'With dev-agent']}>
  <Tabs.Tab>
    **Claude's approach:**
    <FileTree>
      <FileTree.Folder name="grep 'duplicate' → 30 matches" />
      <FileTree.Folder name="grep 'search' → 100+ matches" />
      <FileTree.Folder name="grep 'id' → too many, narrow down" />
      <FileTree.File name="Read indexer/index.ts (441 lines)" />
      <FileTree.File name="Read vector/store.ts (258 lines)" />
      <FileTree.File name="Read scanner/typescript.ts (full file)" />
      <FileTree.File name="Read scanner/markdown.ts (full file)" />
      <FileTree.Folder name="... more greps and reads" />
    </FileTree>
    
    **Result:** 18+ tool calls, 10 files read → **$1.37, 12 minutes**
    
    *18,800 input tokens consumed*
  </Tabs.Tab>
  <Tabs.Tab>
    **Claude's approach:**
    <FileTree>
      <FileTree.Folder name="dev_search 'search duplicate results'" defaultOpen>
        <FileTree.File name="→ store.ts (with upsert code snippet)" />
        <FileTree.File name="→ indexer.ts (with ID generation)" />
      </FileTree.Folder>
      <FileTree.Folder name="dev_search 'document ID generation'" defaultOpen>
        <FileTree.File name="→ typescript.ts (ID pattern)" />
        <FileTree.File name="→ markdown.ts (slug generation)" />
      </FileTree.Folder>
      <FileTree.File name="Read store.ts (for detail)" />
    </FileTree>
    
    **Result:** 6 tool calls, 5 files read → **$0.79, 7.5 minutes**
    
    *65 input tokens consumed (99.7% less)*
  </Tabs.Tab>
</Tabs>

<Callout type="info">
  **Same root cause identified. 42% cheaper. 37% faster.**
</Callout>

## Context bundling: `dev_plan`

For implementation tasks, `dev_plan` bundles everything in one call:

<Tabs items={['Without dev-agent', 'With dev-agent']}>
  <Tabs.Tab>
    **Claude's approach for "Implement issue #61":**
    ```bash
    gh issue view 61 --json title,body    # Fetch issue
    grep "--json" -r packages/cli         # Find existing flags
    Read search.ts                        # Check implementation
    Read mcp.ts                           # Check implementation  
    Read config.ts                        # Check file writes
    # ... 5+ more tool calls
    ```
    
    **Result:** $0.55, 5.7 minutes
  </Tabs.Tab>
  <Tabs.Tab>
    **Claude's approach:**
    ```bash
    dev_plan --issue 61
    # Returns in ONE call:
    # - Issue details + comments
    # - Relevant code snippets
    # - Related commits (5 found)
    # - Codebase patterns
    ```
    
    **Result:** $0.39, 4.5 minutes (**29% cheaper**)
  </Tabs.Tab>
</Tabs>

## How it works

```mermaid
flowchart LR
    subgraph IDE["Your AI Tool"]
        A["Cursor / Claude Code"]
    end
    
    subgraph Agent["dev-agent"]
        B["MCP Server"]
        C["9 Tools"]
    end
    
    subgraph Local["Local Storage"]
        D["Vector DB"]
        E["Embeddings"]
    end
    
    A <-->|"MCP Protocol"| B
    B --> C
    C <--> D
    D <--> E
```

**Key insight:** dev-agent returns **code snippets with context** — Claude doesn't read entire files. This is why input tokens drop by 99%.

## Quick Start

<Steps>
### Install

```bash
npm install -g dev-agent
```

### Index your repository

```bash
cd your-project
dev index .
```

### Connect to your AI tool

```bash
dev mcp install --cursor  # For Cursor
dev mcp install           # For Claude Code
```
</Steps>

## 9 MCP Tools

| Tool | What it does |
|------|--------------|
| [`dev_search`](/docs/tools/dev-search) | Semantic code search — returns snippets, not just paths |
| [`dev_plan`](/docs/tools/dev-plan) | **Context bundling** — issue + code + commits in one call |
| [`dev_refs`](/docs/tools/dev-refs) | Find callers/callees of any function |
| [`dev_map`](/docs/tools/dev-map) | Codebase structure with change frequency |
| [`dev_history`](/docs/tools/dev-history) | Semantic search over git commits |
| [`dev_inspect`](/docs/tools/dev-inspect) | Inspect files (compare implementations, check patterns) |
| [`dev_gh`](/docs/tools/dev-gh) | Search GitHub issues/PRs semantically |
| [`dev_status`](/docs/tools/dev-status) | Repository indexing status |
| [`dev_health`](/docs/tools/dev-health) | Server health checks |

## When to use it

| Scenario | dev-agent? | Expected Savings |
|----------|------------|------------------|
| Debugging unfamiliar code | ✅ Yes | **42% cost** |
| Exploring large codebase | ✅ Yes | **44% cost** |
| Implementing GitHub issues | ✅ Yes | **29% cost** |
| Small codebase you know | ❌ Skip | ~0% |
| Need exhaustive file reads | ⚠️ Maybe | Trade speed for thoroughness |

## Features

- **Context Bundling** — `dev_plan` replaces 5-10 tool calls with one
- **Code Snippets** — Search returns code, not just file paths
- **Multi-Language** — TypeScript, JavaScript, Go, Markdown
- **100% Local** — Your code never leaves your machine
- **Sub-second Search** — Fast even on large repos with LanceDB
- **1500+ Tests** — Production-grade reliability

---

[Read the story behind dev-agent →](https://www.devbypros.com/blog/10-days-of-vibe-coding)

MIT License • Built by [prosdev](https://github.com/prosdev)
